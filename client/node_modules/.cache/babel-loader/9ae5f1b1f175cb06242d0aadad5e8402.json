{"ast":null,"code":"var _jsxFileName = \"/home/phuocnghia712/Desktop/Cshttt/client/src/components/mainpages/detailProduct/DetailProduct.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { GlobalState } from '../../../GlobalState';\nimport ProductItem from '../utils/productItem/ProductItem';\nimport Slider from \"react-slick\";\nimport 'react-medium-image-zoom/dist/styles.css';\nimport heart from \"../../../img/heart2.svg\";\nimport Axios from 'axios';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport left from \"../../../img/left.svg\";\nimport gift from '../../../img/gift.jpg';\nimport gift2 from '../../../img/ideas.png';\nimport Footer from '../../footer/Footer';\n\nfunction DetailProduct() {\n  const params = useParams();\n  const state = useContext(GlobalState);\n  const [isAdmin] = state.userAPI.isAdmin;\n  const [products] = state.productsAPI.products;\n  const [list] = state.productsAPI.listsearch;\n  const addwishlist = state.userAPI.addWishList;\n  const addCart = state.userAPI.addCart;\n  const [detailProduct, setDetailProduct] = useState([]);\n  const [carouselImage, setCarouselImage] = useState();\n  const [image, setImage] = useState([]);\n  const {\n    getProducts\n  } = state.productsAPI;\n  useEffect(() => {\n    if (params.id) {\n      if (isAdmin) {\n        list.forEach(product => {\n          if (product._id === params.id) {\n            setDetailProduct(product);\n            setCarouselImage(product.images[0]);\n          }\n        });\n      } else {}\n\n      const getimage = async () => {\n        const res = await Axios.get(`/api/getimg/${params.id}`);\n        setImage(res.data.data);\n      };\n\n      getimage();\n    }\n  }, [params.id, products]);\n  console.log(detailProduct); //console.log(image)\n  //\n\n  useEffect(() => {\n    getProducts();\n  }, []); //zoom//\n\n  if (detailProduct.length === 0) return null;\n  var settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fun\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Product details\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"fun1\",\n    to: \"/product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"funmini\",\n    src: left,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Return\")))) : '', /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, !carouselImage.url ? \"error\" : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detailimg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"mainimg\",\n    id: \"featured\",\n    src: carouselImage.url,\n    alt: \"\",\n    width: \"1000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slide-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, image.map((image, index) => /*#__PURE__*/React.createElement(\"img\", {\n    key: index,\n    onClick: () => setCarouselImage(image),\n    className: \"thumbnail\",\n    src: image.url,\n    alt: \"\",\n    width: \"1000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, detailProduct.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pricebox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, \"$ \", detailProduct.price), detailProduct.sold === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, \"Sold: \", detailProduct.sold) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Sold: \", detailProduct.sold)), !isAdmin ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pricebtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"cart\",\n    onClick: () => addCart(detailProduct),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, \"ADD TO BASKET\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"wishlistbtn\",\n    onClick: () => addwishlist(detailProduct),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"   \", /*#__PURE__*/React.createElement(\"img\", {\n    className: \"wsicon\",\n    src: heart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"ws\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \"Add to wishlist\"))) : ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"descriptionproduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, \"Description: \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, detailProduct.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"descriptionproduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Specifications: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dpdata\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, \"dimensions\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, detailProduct.dimensions), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"original\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, detailProduct.origin), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, \"material\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, detailProduct.material), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"age suggest\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, detailProduct.age))))), !isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"titledetail2 alone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"You might also be interested in...\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, products.map(product => {\n    return product.category === detailProduct.category && product._id !== detailProduct._id ? /*#__PURE__*/React.createElement(ProductItem, {\n      key: product._id,\n      product: product,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 35\n      }\n    }) : null;\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phonecall\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, \"To make an enquiry call \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 40\n    }\n  }, \"+0848071200\")))) : '', /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  })); //\n  //zoom effect\n}\n\nexport default DetailProduct;","map":{"version":3,"sources":["/home/phuocnghia712/Desktop/Cshttt/client/src/components/mainpages/detailProduct/DetailProduct.js"],"names":["React","useContext","useState","useEffect","useParams","Link","GlobalState","ProductItem","Slider","Axios","gift","gift2","Footer","DetailProduct","params","state","isAdmin","userAPI","products","productsAPI","list","listsearch","addwishlist","addWishList","addCart","detailProduct","setDetailProduct","carouselImage","setCarouselImage","image","setImage","getProducts","id","forEach","product","_id","images","getimage","res","get","data","console","log","length","settings","dots","infinite","speed","slidesToShow","slidesToScroll","left","url","map","index","title","price","sold","heart","description","dimensions","origin","material","age","category"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {useParams, Link} from 'react-router-dom'\nimport {GlobalState} from '../../../GlobalState'\nimport ProductItem from '../utils/productItem/ProductItem'\nimport Slider from \"react-slick\";\nimport 'react-medium-image-zoom/dist/styles.css'\nimport heart from '../../../img/heart2.svg'\nimport Axios from 'axios'\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport left from '../../../img/left.svg'\nimport gift from '../../../img/gift.jpg'\nimport gift2 from '../../../img/ideas.png'\nimport Footer from '../../footer/Footer';\nfunction DetailProduct() {\n    const params = useParams()\n   \n    const state = useContext(GlobalState)\n    const [isAdmin] = state.userAPI.isAdmin\n    const [products] = state.productsAPI.products\n    const [list] = state.productsAPI.listsearch\n    const addwishlist = state.userAPI.addWishList\n    const addCart = state.userAPI.addCart\n    const [detailProduct, setDetailProduct] = useState([])\n    const [carouselImage,setCarouselImage] = useState()\n    const [image,setImage] = useState([])\n    const { getProducts } = state.productsAPI\n    useEffect(() =>{\n        if(params.id){\n            if(isAdmin){\n            list.forEach(product => {\n                if(product._id === params.id) {\n                    setDetailProduct(product) \n                    setCarouselImage(product.images[0])\n                }\n            })}else{\n\n            }\n            const getimage = async () => {\n                const res = await Axios.get(`/api/getimg/${params.id}`)\n                setImage(res.data.data)\n            }\n            getimage()\n        }\n        \n       \n    },[params.id, products])\n    \n    console.log(detailProduct)\n\n    //console.log(image)\n    //\n    useEffect(() => {\n        getProducts()\n    },[])\n\n    //zoom//\n\n\n    if(detailProduct.length === 0) return null;\n\n    var settings = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: 1,\n        slidesToScroll: 1\n      };\n\n    return (\n        <>\n       \n                    \n\n        {\n            isAdmin ?\n            <>\n            <div className=\"fun\">\n        <h1 className=\"step\">Product details</h1>\n        <Link  className=\"fun1\" to=\"/product\">\n            <img className=\"funmini\" src={left}/>\n            <p>Return</p></Link>\n        </div>\n            </>\n            :\n            ''\n        }\n            <div className=\"detail\">\n               { !carouselImage.url ? \"error\" : <div className=\"detailimg\">\n                \n                \n                 <img className=\"mainimg\" id=\"featured\" src={carouselImage.url} alt=\"\" width=\"1000\" />\n\n                  <div className=\"slide-wrapper\">\n                 \n                    <div className=\"slider\">\n                      {\n                          image.map((image,index) => (\n                            <img key={index} onClick={() => setCarouselImage(image)} className=\"thumbnail\" src={image.url} alt=\"\" width=\"1000\" />\n                          ))\n                      }\n                    </div> \n                    \n                  </div>  \n                \n                \n                    \n                    \n                    \n\n                \n                </div>}\n                \n              \n                \n                \n                <div className=\"box-detail\">\n                    <div className=\"row\">\n                        <h2>{detailProduct.title}</h2> \n                    </div>\n                    <div className=\"row\">\n                    <div className=\"pricebox\">\n                    <span>$ {detailProduct.price}</span>\n                    {\n                       detailProduct.sold === 0 ? \n                    <p>Sold: {detailProduct.sold}</p>\n                    :   <p>\n                        Sold: {detailProduct.sold}\n                        </p>\n                    }\n                    \n                    </div>\n                    {\n                       !isAdmin ? \n                    <div className=\"pricebtn\">\n                    <Link  className=\"cart\"\n                    onClick={() => addCart(detailProduct)}>\n                        ADD TO BASKET\n                    </Link>\n                    <Link className=\"wishlistbtn\"\n                    onClick={() => addwishlist(detailProduct)}\n                    >   <img className=\"wsicon\" src={heart}/>\n                        <p className=\"ws\">Add to wishlist</p></Link>\n                    </div>\n                    :\n                    ''\n                    }\n                    </div>\n                    <div className=\"descriptionproduct\">\n                    <p className=\"title\">Description: </p>\n                    <p>{detailProduct.description}</p>\n                    </div>\n                    <div className=\"descriptionproduct\">\n                    <p className=\"title\">Specifications: </p>\n                    <div className=\"dpdata\">\n                    <span>dimensions</span>\n                    <p>{detailProduct.dimensions}</p>\n                    <span>original</span>\n                    <p>{detailProduct.origin}</p>\n                    <span>material</span>\n                    <p>{detailProduct.material}</p>\n                    <span>age suggest</span>\n                    <p>{detailProduct.age}</p>\n                   \n                    </div>\n                    </div>\n                    \n                    \n                </div>\n            </div>\n\n            \n            { !isAdmin ?\n            <>\n\n\n            <div>\n\n        \n            <h1 className=\"titledetail2 alone\">\n                You might also be interested in...\n            </h1>\n            \n                <div className=\"products\">\n                    {\n                        \n                        products.map(product => {\n                            return product.category === detailProduct.category && product._id !== detailProduct._id\n                                ? <ProductItem key={product._id} product={product} /> : null\n                        })\n                    }\n                </div>\n            </div>\n\n            <div className=\"phonecall\">\n            <p>To make an enquiry call <span>+0848071200</span></p>\n        </div>\n        </>\n        :\n        ''\n        }\n        <Footer/>\n        </>\n    )\n\n    //\n    //zoom effect\n     \n        \n    }\n\nexport default DetailProduct\n"]},"metadata":{},"sourceType":"module"}